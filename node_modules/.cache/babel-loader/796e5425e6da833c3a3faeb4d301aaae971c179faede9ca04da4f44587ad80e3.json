{"ast":null,"code":"var _jsxFileName = \"/Users/chinmayingle/Documents/college-system/college-system-app/src/components/BudgetTrackingSystem.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchBudgets, submitExpenseProof } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetTrackingSystem = () => {\n  _s();\n  const [budgets, setBudgets] = useState([]);\n  const [expenseProof, setExpenseProof] = useState(null);\n  const [selectedBudget, setSelectedBudget] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadBudgets = async () => {\n      try {\n        const data = await fetchBudgets();\n        setBudgets(data);\n      } catch (err) {\n        setError('Failed to load budgets');\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadBudgets();\n  }, []);\n  const handleExpenseProofChange = event => {\n    var _event$target$files;\n    const file = ((_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0]) || null;\n    setExpenseProof(file);\n  };\n  const handleSubmitExpenseProof = async event => {\n    event.preventDefault();\n    if (!expenseProof || !selectedBudget) {\n      setError('Please select a budget and upload a proof.');\n      return;\n    }\n    try {\n      await submitExpenseProof(selectedBudget, expenseProof);\n      alert('Expense proof submitted successfully!');\n      setExpenseProof(null);\n      setSelectedBudget('');\n    } catch (err) {\n      setError('Failed to submit expense proof');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading budgets...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Budget Tracking System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Available Budgets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: budgets.map(budget => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [budget.name, \" - \", budget.amount, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedBudget(budget.id),\n          children: \"Select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)]\n      }, budget.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), selectedBudget && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmitExpenseProof,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Submit Expense Proof for \", selectedBudget]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleExpenseProofChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(BudgetTrackingSystem, \"KoD/TY7cSX/24bXQwY11z/fBDIg=\");\n_c = BudgetTrackingSystem;\nexport default BudgetTrackingSystem;\nvar _c;\n$RefreshReg$(_c, \"BudgetTrackingSystem\");","map":{"version":3,"names":["React","useEffect","useState","fetchBudgets","submitExpenseProof","jsxDEV","_jsxDEV","BudgetTrackingSystem","_s","budgets","setBudgets","expenseProof","setExpenseProof","selectedBudget","setSelectedBudget","loading","setLoading","error","setError","loadBudgets","data","err","handleExpenseProofChange","event","_event$target$files","file","target","files","handleSubmitExpenseProof","preventDefault","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","map","budget","name","amount","onClick","id","onSubmit","type","onChange","_c","$RefreshReg$"],"sources":["/Users/chinmayingle/Documents/college-system/college-system-app/src/components/BudgetTrackingSystem.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchBudgets, submitExpenseProof } from '../services/api';\nimport { Budget } from '../types/Budget';\n\nconst BudgetTrackingSystem: React.FC = () => {\n    const [budgets, setBudgets] = useState<Budget[]>([]);\n    const [expenseProof, setExpenseProof] = useState<File | null>(null);\n    const [selectedBudget, setSelectedBudget] = useState<string>('');\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        const loadBudgets = async () => {\n            try {\n                const data = await fetchBudgets();\n                setBudgets(data);\n            } catch (err) {\n                setError('Failed to load budgets');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadBudgets();\n    }, []);\n\n    const handleExpenseProofChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const file = event.target.files?.[0] || null;\n        setExpenseProof(file);\n    };\n\n    const handleSubmitExpenseProof = async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        if (!expenseProof || !selectedBudget) {\n            setError('Please select a budget and upload a proof.');\n            return;\n        }\n\n        try {\n            await submitExpenseProof(selectedBudget, expenseProof);\n            alert('Expense proof submitted successfully!');\n            setExpenseProof(null);\n            setSelectedBudget('');\n        } catch (err) {\n            setError('Failed to submit expense proof');\n        }\n    };\n\n    if (loading) {\n        return <div>Loading budgets...</div>;\n    }\n\n    return (\n        <div>\n            <h1>Budget Tracking System</h1>\n            {error && <div style={{ color: 'red' }}>{error}</div>}\n            <h2>Available Budgets</h2>\n            <ul>\n                {budgets.map((budget) => (\n                    <li key={budget.id}>\n                        {budget.name} - {budget.amount}\n                        <button onClick={() => setSelectedBudget(budget.id)}>Select</button>\n                    </li>\n                ))}\n            </ul>\n            {selectedBudget && (\n                <form onSubmit={handleSubmitExpenseProof}>\n                    <h3>Submit Expense Proof for {selectedBudget}</h3>\n                    <input type=\"file\" onChange={handleExpenseProofChange} />\n                    <button type=\"submit\">Submit</button>\n                </form>\n            )}\n        </div>\n    );\n};\n\nexport default BudgetTrackingSystem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}